(function(a,h){function b(c){var e=c.getElementsByTagName("canvas")[0],d=getComputedStyle(e).getPropertyValue("width"),a=Math.PI;this.ctx=e.getContext("2d");this.color=getComputedStyle(c).getPropertyValue("color");this.text=c.getElementsByTagName("input")[0];this.value=0;this.r=+d.replace("px","")/2;this.\u03c8=a/50;e.setAttribute("width",d);e.setAttribute("height",d);this.initialize(c).animate(this.value,+this.text.value)}(function(){for(var c=0,e=["ms","moz","webkit","o"],d;!a.requestAnimationFrame&&
(d=e.pop());)a.requestAnimationFrame=a[d+"RequestAnimationFrame"],a.cancelAnimationFrame=a[d+"CancelAnimationFrame"]||a[d+"CancelRequestAnimationFrame"];a.cancelAnimationFrame||(a.cancelAnimationFrame=clearTimeout);a.requestAnimationFrame||(a.requestAnimationFrame=function(d){var a=Date.now(),e=16-(a-c),e=0<e?e:0;c=a+e;return setTimeout(function(){d(c)},e)})})();b.prototype.initialize=function(c){var e=c.getElementsByTagName("li"),d={type:"radio",name:"atomic"},a,b,g,f,k;this.text.addEventListener("change",
this.listen.bind(this));this.i=k=e.length;this.n=f=100/k;this.radio=[];for(c.setAttribute("data-n",k);k--;)this.radio.unshift(a=h.createElement("input")),a.addEventListener("click",this.listen.bind(this)),b=f*k,g=b-this.text.value,d.id="i"+k,d.value=b,a.checked=0<g&&g<=f,c.insertBefore(this.setAttributes(a,d),c.firstChild),e[k].getElementsByTagName("label")[0].setAttribute("for","i"+k);return this};b.prototype.setAttributes=function(c,a){for(var d in a)c.setAttribute(d,a[d]);return c};b.prototype.animate=
function(c,e){function d(){var f=c&&100!==c||p?k:0,r=q+p*h-f,f=r+f+h;~g&&f>m&&(f=m);!~g&&f<m&&(f=m);l.beginPath();l.globalCompositeOperation="destination-"+(~g?"over":"out");l.fillStyle=~g?b.color:"rgba(0, 0, 0, 1)";l.arc(n,n,n,r,f,!~g);l.lineTo(n,n);l.closePath();l.fill();b.value=c+1*g+p++*g;if(p<s&&f!==m)return b.id=a.requestAnimationFrame(d);b.value=e}var b=this,g=e>c?1:-1,f=Math.PI,h=this.\u03c8*g,k=h/2,q=f/-2+this.\u03c8*c,m=f/-2+this.\u03c8*e,s=Math.abs(Math.ceil((m-q)/h)),l=this.ctx,n=this.r,
p=0;this.id=a.requestAnimationFrame(d)};b.prototype.update=function(c){if(c===this.value)return this;100<c&&(c=100);var b=Math.floor(c/this.n),d=this.i-1;c=Math.round(c);this.text.value=c;this.radio[b<d?b:d].checked=!0;a.cancelAnimationFrame(this.id);this.animate(this.value,c);return this};b.prototype.listen=function(c){this.update(+(c.target||c.srcElement).value);return this};for(var f=h.getElementsByClassName("atomic"),g=0;g<f.length;g++)b[g]=new b(f[g]);a.Atomic=b})(window,document);
(function(a,h){function b(b){this.viewport=b;this.initialize();a.addEventListener("resize",this.redraw.bind(this))}b.prototype.initialize=function(){this.articles=this.viewport.getElementsByTagName("article");this.initFrame().initNav()};b.prototype.setAttributes=Atomic.prototype.setAttributes;b.prototype.redraw=function(){this.setAttributes(this.frame,{width:+a.innerWidth+"px",height:+a.innerHeight+"px"});return this};b.prototype.initFrame=function(){var b=this.frame=h.createElement("iframe"),g={style:["left:-"+
this.viewport.offsetLeft+"px","top:-"+this.viewport.offsetTop+"px"].join(";"),src:this.viewport.getAttribute("data-load"),seamless:!0,width:+a.innerWidth+"px",height:+a.innerHeight+"px"};this.viewport.insertBefore(this.setAttributes(b,g),this.viewport.firstChild);return this};b.prototype.initNav=function(){for(var a=["<input type=text value=0 readonly><ol>","</ol><canvas></canvas>"],b=this.setAttributes(h.createElement("section"),{"class":"atomic"}),c=h.createElement("nav"),e,d=0;d<this.articles.length;d++)e=
this.articles[d].children[0].innerText,a.splice(1,0,"<li><label>"+e+"</label></li>");b.innerHTML=a.join("");c.appendChild(b);this.atomic=new Atomic(b);this.viewport.insertBefore(c,this.viewport.firstChild);return this};b.instance=new b(document.getElementsByClassName("dawn")[0]);a.Dawn=b})(window,document);