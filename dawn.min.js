(function(c,e){function a(b){var h=b.getElementsByTagName("canvas")[0],d=getComputedStyle(h).getPropertyValue("width"),a=Math.PI;this.ctx=h.getContext("2d");this.color=getComputedStyle(b).getPropertyValue("color");this.text=b.getElementsByTagName("input")[0];this.value=0;this.r=+d.replace("px","")/2;this.\u03c8=a/50;h.setAttribute("width",d);h.setAttribute("height",d);this.initialize(b).animate(this.value,+this.text.value)}(function(){for(var b=0,a=["ms","moz","webkit","o"],d;!c.requestAnimationFrame&&
(d=a.pop());)c.requestAnimationFrame=c[d+"RequestAnimationFrame"],c.cancelAnimationFrame=c[d+"CancelAnimationFrame"]||c[d+"CancelRequestAnimationFrame"];c.cancelAnimationFrame||(c.cancelAnimationFrame=clearTimeout);c.requestAnimationFrame||(c.requestAnimationFrame=function(a){var d=Date.now(),h=16-(d-b),h=0<h?h:0;b=d+h;return setTimeout(function(){a(b)},h)})})();a.prototype.initialize=function(b){var a=b.getElementsByTagName("li"),d={type:"radio",name:"atomic"},f,c,p,m,k;this.text.addEventListener("change",
this.listen.bind(this));this.i=k=a.length;this.n=m=100/k;this.radio=[];for(b.setAttribute("data-n",k);k--;)this.radio.unshift(f=e.createElement("input")),f.addEventListener("click",this.listen.bind(this)),c=m*k,p=c-this.text.value,d.id="i"+k,d.value=c,f.checked=0<p&&p<=m&&+this.text.value,b.insertBefore(this.setAttributes(f,d),b.firstChild),a[k].getElementsByTagName("label")[0].setAttribute("for","i"+k);return this};a.prototype.setAttributes=function(b,a){for(var d in a)b.setAttribute(d,a[d]);return b};
a.prototype.animate=function(b,a){function d(){var e=b&&100!==b||s?k:0,p=g+s*m-e,e=p+e+m;~l&&e>q&&(e=q);!~l&&e<q&&(e=q);n.beginPath();n.globalCompositeOperation="destination-"+(~l?"over":"out");n.fillStyle=~l?f.color:"rgba(0, 0, 0, 1)";n.arc(r,r,r,p,e,!~l);n.lineTo(r,r);n.closePath();n.fill();f.value=b+1*l+s++*l;if(s<t&&e!==q)return f.id=c.requestAnimationFrame(d);f.value=a}var f=this,l=a>b?1:-1,e=Math.PI,m=this.\u03c8*l,k=m/2,g=e/-2+this.\u03c8*b,q=e/-2+this.\u03c8*a,t=Math.abs(Math.ceil((q-g)/m)),
n=this.ctx,r=this.r,s=0;this.id=c.requestAnimationFrame(d)};a.prototype.update=function(b){if(b===this.value)return this;100<b&&(b=100);var a=Math.floor(b/this.n),f=this.i-1;b=Math.round(b);this.text.value=b;this.radio[a<f?a:f].checked=!0;c.cancelAnimationFrame(this.id);this.animate(this.value,b);return this};a.prototype.listen=function(a){this.update(+(a.target||a.srcElement).value);return this};for(var g=e.getElementsByClassName("atomic"),f=0;f<g.length;f++)a[f]=new a(g[f]);c.Atomic=a})(window,
document);
(function(c,e){function a(a){this.viewport=a;this.parent=a.parentNode;this.initialize()}var g={27:"hide",84:"toggle"};a.prototype.initialize=function(){this.content=this.viewport.getElementsByTagName("article");this.initFrame().initNav().initControls();c.addEventListener("resize",this.redraw.bind(this));c.addEventListener("keydown",this.hotkeys.bind(this))};a.prototype.setAttributes=Atomic.prototype.setAttributes;a.prototype.redraw=function(a){this.frame.style.height=this.parent.offsetHeight+"px";
this.frame.style.width=this.parent.offsetWidth+"px";return this};a.prototype.initFrame=function(){var a=this.frame=e.createElement("iframe");this.setAttributes(a,{seamless:!0,height:this.parent.offsetHeight+"px",width:this.parent.offsetWidth+"px",src:this.viewport.getAttribute("data-load")});this.viewport.insertBefore(a,this.viewport.firstChild);return this};a.prototype.initNav=function(){for(var a=["<input type=text value=0 readonly><ol>","</ol><canvas></canvas>"],b=this.setAttributes(e.createElement("section"),
{"class":"atomic"}),c=this.nav=e.createElement("nav"),d=this.content.length,g;d--;)g=this.content[d].getElementsByTagName("h1")[0],a.splice(1,0,"<li><label>"+(g.innerText||g.textContent)+"</label></li>");b.innerHTML=a.join("");c.appendChild(b);c.addEventListener("click",this.show.bind(this,!0));this.viewport.insertBefore(c,this.viewport.firstChild);this.atomic=new Atomic(b);return this};a.prototype.initControls=function(){var a={type:"radio",name:"dawn"},b=this.content.length;for(this.radio=[];b--;)this.radio.unshift(element=
e.createElement("input")),this.viewport.insertBefore(this.setAttributes(element,a),this.viewport.firstChild)};a.prototype.toggle=function(){this["hide"===this.nav.getAttribute("class")?"show":"hide"].call(this);return this};a.prototype.hide=function(){this.nav.setAttribute("class","hide");this.viewport.setAttribute("class","dawn hide");return this};a.prototype.show=function(){this.nav.setAttribute("class","show");this.viewport.setAttribute("class","dawn show");return this};a.prototype.hotkeys=function(a){(a=
g[a.keyCode])&&this[a].call(this);return this};a.instance=new a(document.getElementsByClassName("dawn")[0]);c.Dawn=a})(window,document);