(function(b,d){function a(c,a){var f=c.getElementsByTagName("canvas")[0],b=getComputedStyle(f).getPropertyValue("width"),e=Math.PI;this.ctx=f.getContext("2d");this.color=getComputedStyle(c).getPropertyValue("color");this.text=c.getElementsByTagName("input")[0];this.value=0;this.parent=a||c;this.r=+b.replace("px","")/2;this.\u03c8=e/50;f.setAttribute("width",b);f.setAttribute("height",b);this.initialize(c).animate(this.value,+this.text.value)}(function(){for(var c=0,a=["ms","moz","webkit","o"],f;!b.requestAnimationFrame&&
(f=a.pop());)b.requestAnimationFrame=b[f+"RequestAnimationFrame"],b.cancelAnimationFrame=b[f+"CancelAnimationFrame"]||b[f+"CancelRequestAnimationFrame"];b.cancelAnimationFrame||(b.cancelAnimationFrame=clearTimeout);b.requestAnimationFrame||(b.requestAnimationFrame=function(a){var f=Date.now(),b=16-(f-c),b=0<b?b:0;c=f+b;return setTimeout(function(){a(c)},b)})})();a.prototype.initialize=function(c){var a=c.getElementsByTagName("li"),b={type:"radio",name:"atomic"},e,h,m,g;this.text.addEventListener("change",
this.listen.bind(this));this.i=g=a.length;this.n=m=100/g;this.radio=[];for(c.setAttribute("data-n",g);g--;)this.radio.unshift(c=d.createElement("input")),c.addEventListener("click",this.listen.bind(this)),e=m*g,h=e-this.text.value,b.id="i"+g,b.value=e,c.checked=0<h&&h<=m&&+this.text.value,this.parent.insertBefore(this.setAttributes(c,b),this.parent.firstChild),a[g].getElementsByTagName("label")[0].setAttribute("for","i"+g);return this};a.prototype.setAttributes=function(c,b){for(var a in b)c.setAttribute(a,
b[a]);return c};a.prototype.animate=function(c,a){function e(){var d=c&&100!==c||r?p:0,m=s+r*g-d,d=m+d+g;~h&&d>n&&(d=n);!~h&&d<n&&(d=n);l.beginPath();l.globalCompositeOperation="destination-"+(~h?"over":"out");l.fillStyle=~h?k.color:"rgba(0, 0, 0, 1)";l.arc(q,q,q,m,d,!~h);l.lineTo(q,q);l.closePath();l.fill();k.value=c+1*h+r++*h;if(r<t&&d!==n)return k.id=b.requestAnimationFrame(e);k.value=a}var k=this,h=a>c?1:-1,d=Math.PI,g=this.\u03c8*h,p=g/2,s=d/-2+this.\u03c8*c,n=d/-2+this.\u03c8*a,t=Math.abs(Math.ceil((n-
s)/g)),l=this.ctx,q=this.r,r=0;this.id=b.requestAnimationFrame(e)};a.prototype.update=function(c){if(c===this.value)return this;100<c&&(c=100);var a=Math.floor(c/this.n),e=this.i-1;c=Math.round(c);this.text.value=c;this.radio[a<e?a:e].checked=!0;b.cancelAnimationFrame(this.id);this.animate(this.value,c);return this};a.prototype.listen=function(a){this.update(+(a.target||a.srcElement).value);return this};for(var p=d.getElementsByClassName("atomic"),e=0;e<p.length;e++)a[e]=new a(p[e]);b.Atomic=a})(window,
document);
(function(b,d){function a(a){this.viewport=a;this.parent=a.parentNode;this.initialize()}var p={27:"hide",37:"previous",38:"previous",39:"next",40:"next",84:"toggle"};a.prototype.initialize=function(){this.content=this.viewport.getElementsByTagName("article");this.initFrame().initNav();b.addEventListener("resize",this.redraw.bind(this));b.addEventListener("keydown",this.hotkeys.bind(this))};a.prototype.setAttributes=Atomic.prototype.setAttributes;a.prototype.redraw=function(a){this.frame.style.height=this.parent.offsetHeight+
"px";this.frame.style.width=this.parent.offsetWidth+"px"};a.prototype.initFrame=function(){var a=this.frame=d.createElement("iframe");this.setAttributes(a,{seamless:!0,height:this.parent.offsetHeight+"px",width:this.parent.offsetWidth+"px",src:this.viewport.getAttribute("data-load")});this.viewport.insertBefore(a,this.viewport.firstChild);return this};a.prototype.initNav=function(){for(var a=["<input type=text value=0 readonly><ol>","</ol><canvas></canvas>"],c=this.setAttributes(d.createElement("section"),
{"class":"atomic"}),b=this.nav=d.createElement("nav"),f=this.content.length,k;f--;)k=this.content[f].getElementsByTagName("h1")[0],a.splice(1,0,"<li><label>"+(k.innerText||k.textContent)+"</label></li>");c.innerHTML=a.join("");b.appendChild(c);b.addEventListener("click",this.show.bind(this,!0));this.viewport.insertBefore(b,this.viewport.firstChild);this.atomic=new Atomic(c,this.viewport);this.index=0;this.max=this.atomic.radio.length-1;return this};a.prototype.previous=function(){0>--this.index&&
(this.index=0);this.atomic.update(this.atomic.radio[this.index].value)};a.prototype.next=function(){++this.index>this.max&&(this.index=this.max);this.atomic.update(this.atomic.radio[this.index].value)};a.prototype.toggle=function(){this["hide"===this.nav.getAttribute("class")?"show":"hide"].call(this)};a.prototype.hide=function(){this.nav.setAttribute("class","hide");this.viewport.setAttribute("class","dawn hide")};a.prototype.show=function(){this.nav.setAttribute("class","show");this.viewport.setAttribute("class",
"dawn show")};a.prototype.hotkeys=function(a){(a=p[a.keyCode])&&this[a].call(this)};a.instance=new a(document.getElementsByClassName("dawn")[0]);b.Dawn=a})(window,document);