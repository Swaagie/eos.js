(function(c,f){function a(b){var g=b.getElementsByTagName("canvas")[0],d=getComputedStyle(g).getPropertyValue("width"),c=Math.PI;this.ctx=g.getContext("2d");this.color=getComputedStyle(b).getPropertyValue("color");this.text=b.getElementsByTagName("input")[0];this.value=0;this.r=+d.replace("px","")/2;this.\u03c8=c/50;g.setAttribute("width",d);g.setAttribute("height",d);this.initialize(b).animate(this.value,+this.text.value)}(function(){for(var b=0,g=["ms","moz","webkit","o"],d;!c.requestAnimationFrame&&
(d=g.pop());)c.requestAnimationFrame=c[d+"RequestAnimationFrame"],c.cancelAnimationFrame=c[d+"CancelAnimationFrame"]||c[d+"CancelRequestAnimationFrame"];c.cancelAnimationFrame||(c.cancelAnimationFrame=clearTimeout);c.requestAnimationFrame||(c.requestAnimationFrame=function(c){var d=Date.now(),g=16-(d-b),g=0<g?g:0;b=d+g;return setTimeout(function(){c(b)},g)})})();a.prototype.initialize=function(b){var g=b.getElementsByTagName("li"),d={type:"radio",name:"atomic"},c,a,e,l,k;this.text.addEventListener("change",
this.listen.bind(this));this.i=k=g.length;this.n=l=100/k;this.radio=[];for(b.setAttribute("data-n",k);k--;)this.radio.unshift(c=f.createElement("input")),c.addEventListener("click",this.listen.bind(this)),a=l*k,e=a-this.text.value,d.id="i"+k,d.value=a,c.checked=0<e&&e<=l&&+this.text.value,b.insertBefore(this.setAttributes(c,d),b.firstChild),g[k].getElementsByTagName("label")[0].setAttribute("for","i"+k);return this};a.prototype.setAttributes=function(b,c){for(var d in c)b.setAttribute(d,c[d]);return b};
a.prototype.animate=function(b,g){function d(){var f=b&&100!==b||q?k:0,r=h+q*l-f,f=r+f+l;~e&&f>n&&(f=n);!~e&&f<n&&(f=n);m.beginPath();m.globalCompositeOperation="destination-"+(~e?"over":"out");m.fillStyle=~e?a.color:"rgba(0, 0, 0, 1)";m.arc(p,p,p,r,f,!~e);m.lineTo(p,p);m.closePath();m.fill();a.value=b+1*e+q++*e;if(q<s&&f!==n)return a.id=c.requestAnimationFrame(d);a.value=g}var a=this,e=g>b?1:-1,f=Math.PI,l=this.\u03c8*e,k=l/2,h=f/-2+this.\u03c8*b,n=f/-2+this.\u03c8*g,s=Math.abs(Math.ceil((n-h)/l)),
m=this.ctx,p=this.r,q=0;this.id=c.requestAnimationFrame(d)};a.prototype.update=function(b){if(b===this.value)return this;100<b&&(b=100);var a=Math.floor(b/this.n),e=this.i-1;b=Math.round(b);this.text.value=b;this.radio[a<e?a:e].checked=!0;c.cancelAnimationFrame(this.id);this.animate(this.value,b);return this};a.prototype.listen=function(b){this.update(+(b.target||b.srcElement).value);return this};for(var h=f.getElementsByClassName("atomic"),e=0;e<h.length;e++)a[e]=new a(h[e]);c.Atomic=a})(window,
document);
(function(c,f){function a(c){this.viewport=c;this.initialize()}var h={27:"hide",84:"toggle"};a.prototype.initialize=function(){this.articles=this.viewport.getElementsByTagName("article");this.initFrame().initNav();c.addEventListener("resize",this.redraw.bind(this));c.addEventListener("keydown",this.hotkeys.bind(this))};a.prototype.setAttributes=Atomic.prototype.setAttributes;a.prototype.redraw=function(a){this.setAttributes(this.frame,{width:+c.innerWidth+"px",height:+c.innerHeight+"px"});return this};
a.prototype.initFrame=function(){var a=this.frame=f.createElement("iframe"),b={style:["left:-"+this.viewport.offsetLeft+"px","top:-"+this.viewport.offsetTop+"px"].join(";"),src:this.viewport.getAttribute("data-load"),seamless:!0,width:+c.innerWidth+"px",height:+c.innerHeight+"px"};this.viewport.insertBefore(this.setAttributes(a,b),this.viewport.firstChild);return this};a.prototype.initNav=function(){for(var c=["<input type=text value=0 readonly><ol>","</ol><canvas></canvas>"],b=this.setAttributes(f.createElement("section"),
{"class":"atomic"}),a=this.nav=f.createElement("nav"),d=this.articles.length,h;d--;)h=this.articles[d].getElementsByTagName("h1")[0],c.splice(1,0,"<li><label>"+(h.innerText||h.textContent)+"</label></li>");b.innerHTML=c.join("");a.appendChild(b);a.addEventListener("click",this.show.bind(this,!0));this.viewport.insertBefore(a,this.viewport.firstChild);this.atomic=new Atomic(b);return this};a.prototype.toggle=function(){this["hide"===this.nav.getAttribute("class")?"show":"hide"].call(this);return this};
a.prototype.hide=function(){this.nav.setAttribute("class","hide");return this};a.prototype.show=function(){this.nav.setAttribute("class","show");return this};a.prototype.hotkeys=function(a){(a=h[a.keyCode])&&this[a].call(this);return this};a.instance=new a(document.getElementsByClassName("dawn")[0]);c.Dawn=a})(window,document);